{% load i18n %}
{% if success_message %}
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    {{ success_message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="{% trans "Close" %}"></button>
  </div>
{% endif %}

<div class="table-responsive">
  <table class="shapes-table">
    <thead>
      <tr>
        <th scope="col">{% trans "Nom" %}</th>
        <th scope="col">{% trans "Type" %}</th>
        <th scope="col">{% trans "Dimensions" %}</th>
      </tr>
    </thead>
    <tbody>
      {% for shape in custom_shapes %}
        {% include 'shapes/partials/shape_row.html' with shape=shape %}
      {% empty %}
        <tr>
          <td colspan="4" class="text-center py-5">
            <div class="empty-state">
              <i class="bi bi-shapes fs-1 text-muted mb-3"></i>
              <h5>{% trans "Aucune forme personnalisée" %}</h5>
              <p class="text-muted">{% trans "Cliquez sur le bouton + pour ajouter une nouvelle forme" %}</p>
            </div>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- Bouton flottant "+" pour ajouter une nouvelle forme (HTMX) -->
  <div class="floating-add-btn" title="{% trans "Créer une nouvelle forme" %}" data-bs-toggle="tooltip" data-bs-placement="left" hx-get="{% url 'shapes:get_inline_add_form' %}" hx-target="#shape-list-container" hx-swap="beforeend">
    <i class="bi bi-plus-lg"></i>
  </div>
</div>
