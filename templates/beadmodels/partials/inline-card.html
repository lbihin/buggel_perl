<div class="card h-100">
  <div class="card-img-container" style="height: 200px; overflow: hidden;">
    {% if model.bead_pattern %}
      <img src="{{ model.bead_pattern.url }}" class="card-img-top img-fluid h-100 object-fit-cover" alt="{{ model.title }}" />
    {% else %}
      <img src="{{ model.original_image.url }}" class="card-img-top img-fluid h-100 object-fit-cover" alt="{{ model.title }}" />
    {% endif %}
  </div>
  <div class="card-body d-flex flex-column">
    <h5 class="card-title">{{ model.title }}</h5>
    <p class="card-text flex-grow-1">{{ model.description|truncatewords:20 }}</p>
    <div class="d-flex justify-content-between align-items-center mt-auto">
      <a href="{% url 'beadmodels:details' model.pk %}" class="btn btn-primary">{{ button_text|default:'Voir le modèle' }}</a>
      {% if show_privacy_badge %}
        <span class="badge {% if model.is_public %}
            
            bg-success

          {% else %}
            
            bg-secondary

          {% endif %}">
          {% if model.is_public %}
            Public
          {% else %}
            Privé
          {% endif %}
        </span>
      {% endif %}
    </div>
  </div>
  {% if show_footer|default:True %}
    <div class="card-footer text-muted">
      {% if show_privacy_badge %}
        Créé le {{ model.created_at|date:'d/m/Y' }}
      {% else %}
        Par {{ model.creator.username }} le {{ model.created_at|date:'d/m/Y' }}
      {% endif %}
    </div>
  {% endif %}
</div>
